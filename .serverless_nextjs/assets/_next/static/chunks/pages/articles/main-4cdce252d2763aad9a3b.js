_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{"9lHD":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r("o0o1"),c=r.n(n),o=r("rePB"),a=r("HaE+"),i=r("ODXe"),s=r("nKUr"),u=r("q1tI"),f=r("YFqc"),l=r.n(f),p=r("fR0J"),d=(r("Tb2b"),r("W9HT")),b=r("VXEj"),h=r("2/Rp");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r("oY9k");var j=function(e){if(!e)return 0;for(var t=0,r=0,n=Object.entries(e);r<n.length;r++){var c=Object(i.a)(n[r],2);c[0],c[1];t+=1}return t};function g(){var e=Object(u.useState)(!1),t=e[0],r=e[1],n=Object(u.useState)([]),o=n[0],i=n[1],f=Object(u.useState)(),v=f[0],g=f[1];function y(){return(y=Object(a.a)(c.a.mark((function e(){var t,r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=p.a.collection("articles").doc(v),e.next=4,t.get();case 4:return r=e.sent,n=p.a.collection("articles").orderBy("createdAt","desc").startAfter(r).limit(7).get(),e.next=8,n;case 8:a=e.sent.docs.map((function(e){var t=JSON.parse(JSON.stringify(e.data()));return O({id:e.id},t)})),i(o.concat(a)),g(a.slice(-1)[0].id),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("error: ",e.t0),alert("\uae00 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(u.useEffect)(Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,t=p.a.collection("articles").orderBy("createdAt","desc").limit(7).get(),e.next=5,t;case 5:n=e.sent.docs.map((function(e){var t=JSON.parse(JSON.stringify(e.data()));return O({id:e.id},t)})),r(!1),i(n),g(n[0].id),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(1),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud574 \uba54\uc778\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),window.location.href="/",e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"mainContainer",children:[Object(s.jsx)(d.a,{spinning:t,delay:200,tip:"Loading..."}),Object(s.jsx)(b.b,{style:{minHeight:"350px"},dataSource:o,renderItem:function(e){return Object(s.jsx)(b.b.Item,{style:{width:"80%"},children:Object(s.jsx)(b.b.Item.Meta,{title:Object(s.jsx)(l.a,{href:"/articles/[id]",as:"/articles/"+e.id,children:Object(s.jsx)("a",{style:{color:"black"},children:e.title})}),description:Object(s.jsxs)(s.Fragment,{children:["\ub313\uae00 ",j(e.comments),"\uac1c"]})})},e.id)}},"List"),o.length>6?Object(s.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:Object(s.jsx)(h.a,{onClick:function(){return y.apply(this,arguments)},children:"loading more"})}):""]})})}},Tb2b:function(e,t,r){},YFqc:function(e,t,r){e.exports=r("cTJO")},cTJO:function(e,t,r){"use strict";var n=r("J4zp"),c=r("284h");t.__esModule=!0,t.default=void 0;var o,a=c(r("q1tI")),i=r("elyg"),s=r("nOHt"),u=new Map,f=window.IntersectionObserver,l={};var p=function(e,t){var r=o||(f?o=new f((function(e){e.forEach((function(e){if(u.has(e.target)){var t=u.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(o.unobserve(e.target),u.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return r?(r.observe(e),u.set(e,t),function(){try{r.unobserve(e)}catch(t){console.error(t)}u.delete(e)}):function(){}};function d(e,t,r,n){(0,i.isLocalURL)(t)&&(e.prefetch(t,r,n).catch((function(e){0})),l[t+"%"+r]=!0)}var b=function(e){var t=!1!==e.prefetch,r=a.default.useState(),c=n(r,2),o=c[0],u=c[1],b=(0,s.useRouter)(),h=b&&b.pathname||"/",v=a.default.useMemo((function(){var t=(0,i.resolveHref)(h,e.href,!0),r=n(t,2),c=r[0],o=r[1];return{href:c,as:e.as?(0,i.resolveHref)(h,e.as):o||c}}),[h,e.href,e.as]),O=v.href,j=v.as;a.default.useEffect((function(){if(t&&f&&o&&o.tagName&&(0,i.isLocalURL)(O)&&!l[O+"%"+j])return p(o,(function(){d(b,O,j)}))}),[t,o,O,j,b]);var g=e.children,y=e.replace,w=e.shallow,m=e.scroll;"string"===typeof g&&(g=a.default.createElement("a",null,g));var x=a.Children.only(g),E={ref:function(e){e&&u(e),x&&"object"===typeof x&&x.ref&&("function"===typeof x.ref?x.ref(e):"object"===typeof x.ref&&(x.ref.current=e))},onClick:function(e){x.props&&"function"===typeof x.props.onClick&&x.props.onClick(e),e.defaultPrevented||function(e,t,r,n,c,o,a){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,i.isLocalURL)(r))&&(e.preventDefault(),null==a&&(a=n.indexOf("#")<0),t[c?"replace":"push"](r,n,{shallow:o}).then((function(e){e&&a&&(window.scrollTo(0,0),document.body.focus())})))}(e,b,O,j,y,w,m)}};return t&&(E.onMouseEnter=function(e){(0,i.isLocalURL)(O)&&(x.props&&"function"===typeof x.props.onMouseEnter&&x.props.onMouseEnter(e),d(b,O,j,{priority:!0}))}),(e.passHref||"a"===x.type&&!("href"in x.props))&&(E.href=(0,i.addBasePath)((0,i.addLocale)(j,b&&b.locale,b&&b.defaultLocale))),a.default.cloneElement(x,E)};t.default=b},g9xC:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/main",function(){return r("9lHD")}])},oY9k:function(e,t,r){"use strict";var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},[["g9xC",2,1,4,3,5,7,9,11,13,17,0]]]);