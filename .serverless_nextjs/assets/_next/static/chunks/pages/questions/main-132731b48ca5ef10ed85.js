_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{"2yaC":function(e,t,r){"use strict";r.r(t),r.d(t,"__N_SSP",(function(){return w})),r.d(t,"default",(function(){return v}));var n=r("o0o1"),c=r.n(n),a=r("rePB"),i=r("HaE+"),s=r("ODXe"),o=r("nKUr"),u=r("q1tI"),l=r("YFqc"),b=r.n(l),j=(r("a6RD"),r("fR0J")),p=(r("Tb2b"),r("5rEg")),d=r("wFql"),O=r("bx4M"),f=r("VXEj"),h=r("2/Rp");r("g/15");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=p.a.Search,y=(d.a.Paragraph,O.a.Meta,function(e){if(!e)return 0;for(var t=0,r=0,n=Object.entries(e);r<n.length;r++){var c=Object(s.a)(n[r],2);c[0],c[1];t+=1}return t}),w=!0;function v(e){console.log("\ub80c\ub354\ub9c1");var t=Object(u.useState)(e.questions),r=t[0],n=t[1],a=Object(u.useState)(e.questions[0].id),s=a[0],l=a[1],p=Object(u.useState)([]),d=p[0],O=p[1];function x(){return(x=Object(i.a)(c.a.mark((function e(){var t,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=j.a.collection("questions").doc(s),e.next=4,t.get();case 4:return a=e.sent,i=j.a.collection("questions").orderBy("createdAt","desc").startAfter(a).limit(7).get(),e.next=8,i;case 8:o=e.sent.docs.map((function(e){var t=JSON.parse(JSON.stringify(e.data()));return g({id:e.id},t)})),n(r.concat(o)),l(o.slice(-1)[0].id),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log("error: ",e.t0),alert("\uc9c8\ubb38 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function w(){return(w=Object(i.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r=j.a.collection("questions").where("authorNickname","==",t).limit(5).get(),e.next=6,r;case 6:if(0!=(n=e.sent.docs.map((function(e){var t=JSON.parse(JSON.stringify(e.data()));return g({id:e.id},t)}))).length){e.next=10;break}return alert("\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),e.abrupt("return");case 10:O(n),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),console.log("error: ",e.t0),alert("\uac80\uc0c9\uacb0\uacfc\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"mainContainer",children:[Object(o.jsx)("div",{children:Object(o.jsx)(m,{placeholder:"\uac80\uc0c9\ud560 \ub2c9\ub124\uc784 \uc785\ub825",allowClear:!0,onSearch:function(e){return w.apply(this,arguments)},style:{width:300,margin:"10px 0"}})}),0!=d.length?Object(o.jsx)(f.b,{style:{minHeight:"350px"},dataSource:d,renderItem:function(e){return Object(o.jsx)(f.b.Item,{style:{width:"80%"},children:Object(o.jsx)(f.b.Item.Meta,{avatar:"Q",title:Object(o.jsx)(b.a,{href:"/questions/[id]",as:"/questions/"+e.id,children:Object(o.jsx)("a",{style:{color:"black"},children:e.title})}),description:Object(o.jsxs)(o.Fragment,{children:["\ub2f5\ubcc0 ",y(e.answers),"\uac1c, \ub313\uae00"," ",y(e.comments),"\uac1c"]})})})}},"List"):"",Object(o.jsx)(h.a,{type:"default",style:{marginBottom:"15px"},children:Object(o.jsx)(b.a,{href:"/questions/write",children:"\uc9c8\ubb38\ud558\uae30"})}),Object(o.jsx)(f.b,{style:{minHeight:"350px"},dataSource:r,renderItem:function(e){return Object(o.jsx)(f.b.Item,{style:{width:"80%"},children:Object(o.jsx)(f.b.Item.Meta,{avatar:"Q",title:Object(o.jsx)(b.a,{href:"/questions/[id]",as:"/questions/"+e.id,children:Object(o.jsx)("a",{style:{color:"black"},children:e.title})}),description:Object(o.jsxs)(o.Fragment,{children:["\ub2f5\ubcc0 ",y(e.answers),"\uac1c, \ub313\uae00"," ",y(e.comments),"\uac1c"]})})},e.id)}},"List"),Object(o.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:Object(o.jsx)(h.a,{onClick:function(){return x.apply(this,arguments)},children:"loading more"})})]})})}},"5apM":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/main",function(){return r("2yaC")}])}},[["5apM",2,1,7,4,8,5,6,9,11,14,15,16,19,0]]]);